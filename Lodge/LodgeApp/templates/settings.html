{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}


{% block content %}
  
<body>
    {% include 'partials/_header.html' %}
    
    {% include 'sidebar.html' %}

    <main id="main" class="main">
      <div class="pagetitle">
        <h1>Settings</h1>
        <nav>
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Home</a></li>
            <li class="breadcrumb-item active">Settings</li>
          </ol>
        </nav>
      </div>
      <!-- End Page Title -->

      <!-- Default Tabs -->
      <ul class="nav nav-tabs-bordered d-flex" id="myTabjustified" role="tablist">
        <li class="nav-item flex-fill" role="presentation">
          <button class="nav-link w-100 active" id="general-tab" data-bs-toggle="tab" data-bs-target="#general-justified" type="button" role="tab" aria-controls="general" aria-selected="true">General</button>
        </li>
        <li class="nav-item flex-fill" role="presentation">
          <button class="nav-link w-100" id="staff-tab" data-bs-toggle="tab" data-bs-target="#staff-justified" type="button" role="tab" aria-controls="returning-guest" aria-selected="false">Staff profile</button>
        </li>
      </ul>


      <div class="tab-content pt-2" id="myTabjustifiedContent">
        <div class="tab-pane fade show active" id="general-justified" role="tabpanel" aria-labelledby="general-tab">
          <div class="mb-3 mt-2">
            <div class="card-body settings">
              <p class="text-center card-subtitle mb-3 text-muted">
                Edit your company information here
              </p>
              <div class="pt-2 pb-2">
                <form class="row g-2" action="{% url 'settings' %}" method="POST">
                  {% csrf_token %}

                  <!-- Company Name -->
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card-profile" data-id="0" data-label="Company Name">
                        <div class="profile-box"><i class="bi bi-bank"></i><span id="companyText" class="current-text form-floating">{{company.name}}</span></div>
                        <button type="button" class="btn btn-link small editButton">Edit</button>
                      </div>
                    </div>
                  </div>

                
                  {% for suite,details in suite_room_types.items %}

                  <div class="row">
                    <!-- Suite Type -->
                    <div class="col-md-4">
                      <div class="card-profile" data-id="{{forloop.counter}}" data-label="Suite Type">
                        <div class="profile-box"><i class="bi bi-door-open"></i><span class="current-text">{{suite.type}}</span></div>
                        <button type="button" class="btn btn-link small editButton">Edit</button>
                      </div>
                    </div>

                    <!-- No of rooms -->
                    <div class="col-md-4">
                      <div class="card-profile" data-id="{{forloop.counter}}" data-label="Rooms">
                        <div class="profile-box"><i class="bi bi-grid-3x3-gap"></i><span class="current-text">{{details.0}} Rooms</span></div>
                        <button type="button" class="btn btn-link small editButton">Edit</button>
                      </div>
                    </div>

                    <!-- Price -->
                    <div class="col-md-4">
                      <div class="card-profile" data-id="{{forloop.counter}}" data-label="Current Price">
                        <div class="profile-box"><i class="custom-icon">â‚¦</i><span class="current-text">{{details.1}}</span></div>
                        <button type="button" class="btn btn-link small editButton">Edit</button>
                      </div>
                    </div>
                  </div>

                  {% endfor %}

                  <div class="row"  id="button-group-row">
                    <div class="btn-group" role="group" aria-label="Basic example">
                      <button type="button" id="settings-add-suite" class="btn btn-dark">Add suite</button>
                      <button type="button" id="reset-button" class="btn btn-warning">Reset</button>
                      <button type="submit"
                      data-bs-toggle="modal"
                      data-bs-target="#verticalycentered"
                      id="submitButton" class="btn btn-dark">Submit</button>
                    </div>
                    <!-- Button to add more suites -->
                  </div>

                  <div
                    class="text-center"
                    id="suites-container"
                    style="display: none"
                  >
                    <!-- Initial suite input fields -->
                  </div>

  
                </form>
              </div>
            </div>
          </div>
        </div>


        <div class="tab-pane fade" id="staff-justified" role="tabpanel" aria-labelledby="staff-tab">
          
          <p class="text-center card-subtitle mb-3 mt-3 text-muted">
            Edit your staff profiles here
          </p>
          {% for owner in owners %}
          <div class="col-md-4">
            <div class="card-profile">
              <div class="profile-box"><i class="bi bi-person"></i><span>{{owner}}</span></div>
              <button type="button" id="editButton" class="btn btn-link small editButton">Edit</button>
            </div>
          </div>
          {% endfor %}
          
          {% for staff in staffs %}
          <div class="col-md-4">
            <div class="card-profile">
              <div class="profile-box"><i class="bi bi-person"></i><span>{{staff}}</span></div>
              <button type="button" id="editButton" class="btn btn-link small editButton">Edit</button>
            </div>
          </div>
          {% endfor %}

        </div>
      </div>
      
      </div>
      </div><!-- End Default Tabs -->

  </main>
    <!-- End #main -->

    

    <a
      href="#"
      class="back-to-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>
</body>

  {% endblock content %}
